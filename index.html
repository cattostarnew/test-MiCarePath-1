<!DOCTYPE html>
<html>
<title>Video Watching</title>
<head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NCMSMZQ');</script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7WQYKMC2PK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-7WQYKMC2PK');
</script>
<!-- <script src = "https://www.youtube.com/iframe_api"> </script> -->
</head>
<body> 
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NCMSMZQ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

<label for="cars">Choose other meditation videos to watch:</label>
<select name="cars" id="cars" onchange="myFunction(this)">
  <option>--Select one option--</option>
  <option value="beach">Seaside</option>
  <option value="garden">Garden</option>
  <option value="generic">Generic</option>
  <option value="mountain">Mountain</option>
</select>

<div class="player-wrapper"> --> -->
    <div class="player">
        <iframe id="myIframe" width="400" height="225" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen enablejsapi="true"></iframe>
        <!-- <iframe id="myIframe" width="400" height="225" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen enablejsapi="true" src="https://www.youtube.com/embed/AiAKJcvvC30?autoplay=0&playsinline=1&modestbranding=1&cc_load_policy=1&rel=0"></iframe> -->
    </div>
<!-- <div id="myIframe" class="embed-responsive-item video-frame" width="400" height="225" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen enablejsapi="true" src="https://www.youtube.com/embed/O2qnKaR9M2Q?autoplay=0&playsinline=1&modestbranding=1&cc_load_policy=1&rel=0&origin=https://cattostarnew.github.io/testMiCarePath/"></div> -->
<!-- <div id="myIframe" class="embed-responsive-item video-frame" width="400" height="225" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen enablejsapi="true"></div> -->

<!-- </div> -->

<!-- <video id="myIframe" controls width="250">

    <source src="https://www.youtube.com/embed/O2qnKaR9M2Q?autoplay=0&playsinline=1&modestbranding=1&cc_load_policy=1&rel=0&origin=https://cattostarnew.github.io/testMiCarePath/"
         >

</video> -->

<script>
    let params = new URLSearchParams(window.location.search)
    let selected_video = params.get('video')
    console.log(selected_video)
    let myIframe = document.getElementById("myIframe")
    change(selected_video)
    function change(video){
        switch(video){
            case "garden":
                console.log("seaside")
                myIframe.src = "https://www.youtube.com/embed/O2qnKaR9M2Q?autoplay=0&playsinline=1&modestbranding=1&cc_load_policy=1&rel=0"
                document.getElementById('myIframe').contentDocument.location.reload(true)
                break

            case "beach":
                console.log("beach")
                myIframe.src = "https://www.youtube.com/embed/I96lFEmgQP0?autoplay=0&playsinline=1&modestbranding=1&cc_load_policy=1&rel=0"
                document.getElementById('myIframe').contentDocument.location.reload(true)
                break

            case "mountain":
                console.log("mountain")
                myIframe.src = "https://www.youtube.com/embed/AiAKJcvvC30?autoplay=0&playsinline=1&modestbranding=1&cc_load_policy=1&rel=0"
                document.getElementById('myIframe').contentDocument.location.reload(true)
                break

            case "generic":
                myIframe.src = "https://www.youtube.com/embed/ncDjdooEmbo?autoplay=0&playsinline=1&modestbranding=1&cc_load_policy=1&rel=0"
                document.getElementById('myIframe').contentDocument.location.reload(true)
                break
            }
    }

    function myFunction(getOption){
        var value = getOption.value;  
        console.log(value);
        change(value)
    }

    document.addEventListener("click", function(event){
        console.log(event);
    });
    //this did not track iframe component
       
</script>



<script type="text/javascript">
    var tag = document.createElement('script');
    tag.id = 'iframe-demo';
    tag.src = 'https://www.youtube.com/iframe_api';
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
  
    var player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player("myIframe", {
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
      });
      console.log("ready");
    }
    function onPlayerReady(event) {
      document.getElementById('myIframe').style.borderColor = '#FF6D00';
      console.log("playerReady");
    }
    function changeBorderColor(playerStatus) {
      console.log(playerStatus);
      var color;
      if (playerStatus == -1) {
        color = "#37474F"; // unstarted = gray
      } else if (playerStatus == 0) {
        color = "#FFFF00"; // ended = yellow
      } else if (playerStatus == 1) {
        color = "#33691E"; // playing = green
      } else if (playerStatus == 2) {
        color = "#DD2C00"; // paused = red
      } else if (playerStatus == 3) {
        color = "#AA00FF"; // buffering = purple
      } else if (playerStatus == 5) {
        color = "#FF6DOO"; // video cued = orange
      }
      if (color) {
        document.getElementById('myIframe').style.borderColor = color;
      }
    }
    function onPlayerStateChange(event) {
      changeBorderColor(event.data);
      console.log(event.data);
    }

    function reload() {
                document.getElementById('myIframe').src += '';
            }
  </script>




</body>
</html>
